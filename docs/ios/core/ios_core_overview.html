<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Overview · HALO</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;the-core-manager&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#the-core-manager&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Core Manager&lt;/h2&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Overview · HALO"/><meta property="og:type" content="website"/><meta property="og:url" content="https://mobgen.github.io/halo-documentation/index.html"/><meta property="og:description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;the-core-manager&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#the-core-manager&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Core Manager&lt;/h2&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/halo-documentation/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat|Open+Sans|Raleway"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/halo-documentation/js/jquery.min.js"></script><script type="text/javascript" src="/halo-documentation/js/cmsParam.js"></script><link rel="stylesheet" href="/halo-documentation/css/main.css"/><script src="/halo-documentation/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/halo-documentation/"><h2 class="headerTitle">HALO</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/halo-documentation/docs/cms/cms_home" target="_self">CMS docs</a></li><li class=""><a href="/halo-documentation/docs/android/android_home" target="_self">Android docs</a></li><li class="siteNavGroupActive"><a href="/halo-documentation/docs/ios/ios_home" target="_self">iOS docs</a></li><li class=""><a href="/halo-documentation/docs/javascript/javascript_home" target="_self">Javascript docs</a></li><li class=""><a href="/halo-documentation/docs/integrations/server_integrations_home" target="_self">Server integrations</a></li><li class=""><a href="https://web-halo.mobgen.com/api/docs/" target="_self">API</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search in the docs" title="Search in the docs"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Core SDK</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">iOS Documentation</h3><ul class=""><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/ios_home">Overview</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/global/ios_getting_started">Getting started</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Core SDK</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/halo-documentation/docs/ios/core/ios_core_overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/core/ios_ssl_pinning">SSL pinning</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/core/ios_logging_overview">Logging</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Content SDK</h3><ul class=""><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/content/ios_content_overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/content/ios_content_search">Content search</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/content/ios_content_sync">Content sync</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/content/ios_content_edition">Content edition</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Notifications SDK</h3><ul class=""><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/notifications/ios_notifications_overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/notifications/ios_rich_notifications">Rich push notifications</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/notifications/ios_advanced_firebase_usecases">Advanced Firebase use cases</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Auth SDK</h3><ul class=""><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/auth/ios_social_overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/auth/ios_social_facebook">Facebook integration</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/auth/ios_social_google">Google Integration</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/auth/ios_auth_overview">User authentication</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/auth/ios_pocket">User pocket</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Changelog</h3><ul class=""><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_250">2.5.0 - Cambados</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_240">2.4.0 - Balboa</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_234">2.3.4 - Altamira</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_233">2.3.3 - Altamira</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_232">2.3.2 - Altamira</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_231">2.3.1</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_230">2.3.0</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_225">2.2.5</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_224">2.2.4</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_223">2.2.3</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_222">2.2.2</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_221">2.2.1</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_220">2.2.0</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_211">2.1.1</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/ios/changelog/ios_release_notes_210">2.1.0</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Overview</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="the-core-manager"></a><a href="#the-core-manager" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The Core Manager</h2>
<p>Once all the configuration is done, the only remaining step is to call the <code>startup</code> method on the core manager to start all the process and initialise the SDK.</p>
</span></div><div class="tabs"><div class="nav-tabs"><div class="nav-link active" id="144-tab" data-group="group_143" data-tab="tabpanel_144">Swift</div><div class="nav-link" id="145-tab" data-group="group_143" data-tab="tabpanel_145">Obj-C</div></div><div class="tab-content"><div class="tab-pane active" data-group="group_143" tabindex="-1" id="tabpanel_144"><div><span><pre><code class="hljs css language-swift"><span class="hljs-type">Halo</span>.<span class="hljs-type">Manager</span>.core.startup { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] (success) -&gt; <span class="hljs-type">Void</span> <span class="hljs-keyword">in</span>
  <span class="hljs-comment">// Do your stuff     </span>
}
</code></pre>
</span></div></div><div class="tab-pane" data-group="group_143" tabindex="-1" id="tabpanel_145"><div><span><pre><code class="hljs css language-C">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
  <span class="hljs-comment">// Override point for customization after application launch.</span>
  [HaloManager.core startup:^(BOOL success) {
    <span class="hljs-comment">// Do some stuff</span>
  }];
    
  <span class="hljs-keyword">return</span> YES;
}
</code></pre>
</span></div></div></div></div><div><span><p>It should also be mentioned here that apart from that <code>.plist</code> configuration file, the same configuration can be
achieved through code, setting the corresponding properties within the manager (credentials and authentication mode)
before calling the <code>startup</code> method.</p>
<p>This manager also has a delegate conforming to the <code>ManagerDelegate</code> protocol, that the developer could implement
to customise the setup and launching process of the Framework.</p>
<p>The Core Manager also holds the configurable parameters of the Framework that can be set according to the needs
of each project.</p>
<h3><a class="anchor" aria-hidden="true" id="delegate"></a><a href="#delegate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>delegate</code></h3>
<p>Setting the delegate of the core manager will allow to implement some hook methods that will be executed during the setup process of the Framework. This delegate must conform to the <code>Halo.ManagerDelegate</code> protocol.</p>
</span></div><div class="tabs"><div class="nav-tabs"><div class="nav-link active" id="147-tab" data-group="group_146" data-tab="tabpanel_147">Swift</div><div class="nav-link" id="148-tab" data-group="group_146" data-tab="tabpanel_148">Obj-C</div></div><div class="tab-content"><div class="tab-pane active" data-group="group_146" tabindex="-1" id="tabpanel_147"><div><span><pre><code class="hljs css language-swift"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">ManagerDelegate</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">managerWillSetupDevice</span><span class="hljs-params">(device: Halo.Device)</span></span> -&gt; <span class="hljs-type">Void</span>
}
</code></pre>
</span></div></div><div class="tab-pane" data-group="group_146" tabindex="-1" id="tabpanel_148"><div><span><pre><code class="hljs css language-C">@protocol HaloManagerDelegate
- (<span class="hljs-keyword">void</span>)managerWillSetupDevice:(HaloDevice * _Nonnull)device;
@end
</code></pre>
</span></div></div></div></div><div><span><p><code>managerWillSetupDevice</code> will be called when the device is being set up, so that the developer could potentially add any details to the it. E.g.:</p>
</span></div><div class="tabs"><div class="nav-tabs"><div class="nav-link active" id="150-tab" data-group="group_149" data-tab="tabpanel_150">Swift</div><div class="nav-link" id="151-tab" data-group="group_149" data-tab="tabpanel_151">Obj-C</div></div><div class="tab-content"><div class="tab-pane active" data-group="group_149" tabindex="-1" id="tabpanel_150"><div><span><pre><code class="hljs css language-swift"><span class="hljs-comment">// MARK: ManagerDelegate methods</span>
    
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">managerWillSetupDevice</span><span class="hljs-params">(device: Halo.Device)</span></span> -&gt; <span class="hljs-type">Void</span> {
    device.addTag(name: <span class="hljs-string">"test"</span>, value: <span class="hljs-string">"testValue"</span>)
}
</code></pre>
</span></div></div><div class="tab-pane" data-group="group_149" tabindex="-1" id="tabpanel_151"><div><span><pre><code class="hljs css language-C">- (<span class="hljs-keyword">void</span>)managerWillSetupDevice:(HaloDevice *)device {
    [device addTagWithName:@<span class="hljs-string">"tagName"</span> value:@<span class="hljs-string">"tagValue"</span>];
}
</code></pre>
</span></div></div></div></div><div><span><p>Later on, the device will be accessible through the Core Manager's <code>device</code> property.</p>
<h3><a class="anchor" aria-hidden="true" id="environment"></a><a href="#environment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>environment</code></h3>
<p>Apart from the configuration <code>.plist</code>, this is one of the properties that can also be set programatically. There is a set of predefined environments, but also an option to specify a custom one by providing the full url.</p>
</span></div><div class="tabs"><div class="nav-tabs"><div class="nav-link active" id="153-tab" data-group="group_152" data-tab="tabpanel_153">Swift</div><div class="nav-link" id="154-tab" data-group="group_152" data-tab="tabpanel_154">Obj-C</div></div><div class="tab-content"><div class="tab-pane active" data-group="group_152" tabindex="-1" id="tabpanel_153"><div><span><pre><code class="hljs css language-swift"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">HaloEnvironment</span> </span>{
  <span class="hljs-keyword">case</span> int
  <span class="hljs-keyword">case</span> qa
  <span class="hljs-keyword">case</span> stage
  <span class="hljs-keyword">case</span> prod
  <span class="hljs-keyword">case</span> custom(<span class="hljs-type">String</span>)
}
</code></pre>
</span></div></div><div class="tab-pane" data-group="group_152" tabindex="-1" id="tabpanel_154"><div><span><pre><code class="hljs css language-C">Because of the way it is defined, <span class="hljs-keyword">this</span> property is <span class="hljs-keyword">not</span> accessible from Objective-C. Hence, the only way to configure it is through the `.plist` file.
</code></pre>
</span></div></div></div></div><div><span><h3><a class="anchor" aria-hidden="true" id="defaultofflinepolicy"></a><a href="#defaultofflinepolicy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>defaultOfflinePolicy</code></h3>
<p>A caching system is available out of the box for the network requests executed through the Framework. There are three modes in which the Framework can operate:</p>
<ul>
<li><code>None</code>: No caching for the network requests is done</li>
<li><code>LoadAndStoreLocalData</code>: The data is fetched from the network and also stored in order to be used in other scenarios (e.g. temporary lack of internet connection)</li>
<li><code>ReturnLocalDataDontLoad</code>: Don't even try to fetch data and just return whatever information is cached locally</li>
</ul>
<table>
<thead>
<tr><th><strong>Policy</strong></th><th><strong>Swift</strong></th><th><strong>Obj-C</strong></th></tr>
</thead>
<tbody>
<tr><td><code>None</code></td><td><code>.none</code></td><td><code>HaloOfflinePolicyNone</code></td></tr>
<tr><td><code>LoadAndStoreLocalData</code></td><td><code>.loadAndStoreLocalData</code></td><td><code>HaloOfflinePolicyLoadAndStoreLocalData</code></td></tr>
<tr><td><code>ReturnLocalDataDontLoad</code></td><td><code>.returnLocalDataDontLoad</code></td><td><code>HaloOfflinePolicyReturnLocalDataDontLoad</code></td></tr>
</tbody>
</table>
<p>Although this is the default mode, it can also be specified per request, overriding this default value if needed.</p>
<h3><a class="anchor" aria-hidden="true" id="numberofretries"></a><a href="#numberofretries" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>numberOfRetries</code></h3>
<p>A retry system for failed requests is implemented within the Framework. If desired, a value can be set so that the requests are retried <code>n</code> times before finally failing. The default value is <code>0</code>, so no retries will be automatically done.</p>
<p>Just like the <code>defaultOfflinePolicy</code>, this is a default value that will be used only if a specific value is not set per request.</p>
<h3><a class="anchor" aria-hidden="true" id="authenticationmode"></a><a href="#authenticationmode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>authenticationMode</code></h3>
<p>The SDK provides and uses three authentication modes (app/app+/user), based on which it will use the credentials provided.</p>
<pre><code class="hljs css language-swift"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">AuthenticationMode</span> </span>{
  <span class="hljs-keyword">case</span> app
  <span class="hljs-keyword">case</span> appPlus
  <span class="hljs-keyword">case</span> user
}
</code></pre>
<p>Those credentials can either be specified through the already mentioned <code>.plist</code> configuration file (using the keys <code>CLIENT_ID</code>, <code>CLIENT_SECRET</code>, <code>USERNAME</code> and <code>PASSWORD</code>) or through code, setting the properties <code>appCredentials</code> and/or <code>userCredentials</code> as follows:</p>
<pre><code class="hljs css language-swift"><span class="hljs-type">Halo</span>.<span class="hljs-type">Manager</span>.core.appCredentials = <span class="hljs-type">Credentials</span>(clientId: <span class="hljs-string">"clientId"</span>, clientSecret: <span class="hljs-string">"clientSecret"</span>)
<span class="hljs-type">Halo</span>.<span class="hljs-type">Manager</span>.core.userCredentials = <span class="hljs-type">Credentials</span>(username: <span class="hljs-string">"username"</span>, password: <span class="hljs-string">"password"</span>)
</code></pre>
<p>Switching the authentication mode would be then as easy as:</p>
<pre><code class="hljs css language-swift"><span class="hljs-type">Halo</span>.<span class="hljs-type">Manager</span>.core.authenticationMode = .user
</code></pre>
<p>And again, this authentication mode will be used throughout the framework when no specific mode is set per request.</p>
<h3><a class="anchor" aria-hidden="true" id="other-functions"></a><a href="#other-functions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Other functions</h3>
<p>Apart from the aforementioned properties, the Core Manager provides a set of functions:</p>
<pre><code class="hljs css language-swift"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">startup</span><span class="hljs-params">(completionHandler handler: <span class="hljs-params">(<span class="hljs-params">(Bool)</span></span></span></span> -&gt; <span class="hljs-type">Void</span>)?) -&gt; <span class="hljs-type">Void</span>
</code></pre>
<p>Will be called in order to start the setup and launching process of the Framework. The closure will be executed once the whole process has finished and all the Framework features are ready to be used.</p>
<pre><code class="hljs css language-swift"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">saveDevice</span><span class="hljs-params">(completionHandler handler: <span class="hljs-params">(<span class="hljs-params">(NSHTTPURLResponse?, Halo.Result&lt;Halo.Device?, NSError&gt;)</span></span></span></span> -&gt; <span class="hljs-type">Void</span>)? = <span class="hljs-literal">nil</span>) -&gt; <span class="hljs-type">Void</span>
</code></pre>
<p>It will save the device model that the HALO SDK is currently holding and using for the different operations.</p>
<h3><a class="anchor" aria-hidden="true" id="add-ons"></a><a href="#add-ons" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Add-ons</h3>
<p>The architecture of the Halo Framework is based on a system of add-ons intended to easily integrate and provide extra features and functionalities.</p>
<p>Currently there are three protocols that are being used by different existing addons in the Framework's ecosystem:</p>
<pre><code class="hljs css language-swift"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Addon</span> </span>{

  <span class="hljs-keyword">var</span> addonName: <span class="hljs-type">String</span> {<span class="hljs-keyword">get</span>}

  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">setup</span><span class="hljs-params">(core: Halo.CoreManager, completionHandler handler: <span class="hljs-params">(<span class="hljs-params">(Halo.Addon, Bool)</span></span></span></span> -&gt; <span class="hljs-type">Void</span>)?) -&gt; <span class="hljs-type">Void</span>
  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">startup</span><span class="hljs-params">(core: Halo.CoreManager, completionHandler handler: <span class="hljs-params">(<span class="hljs-params">(Halo.Addon, Bool)</span></span></span></span> -&gt; <span class="hljs-type">Void</span>)?) -&gt; <span class="hljs-type">Void</span>

  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">willRegisterAddon</span><span class="hljs-params">(core: Halo.CoreManager)</span></span> -&gt; <span class="hljs-type">Void</span>
  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">didRegisterAddon</span><span class="hljs-params">(core: Halo.CoreManager)</span></span> -&gt; <span class="hljs-type">Void</span>

  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">willRegisterDevice</span><span class="hljs-params">(core: Halo.CoreManager)</span></span> -&gt; <span class="hljs-type">Void</span>
  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">didRegisterDevice</span><span class="hljs-params">(core: Halo.CoreManager)</span></span> -&gt; <span class="hljs-type">Void</span>

  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">applicationDidFinishLaunching</span><span class="hljs-params">(application: UIApplication, core: Halo.CoreManager)</span></span> -&gt; <span class="hljs-type">Void</span>
  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">applicationDidEnterBackground</span><span class="hljs-params">(application: UIApplication, core: Halo.CoreManager)</span></span> -&gt; <span class="hljs-type">Void</span>
  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">applicationDidBecomeActive</span><span class="hljs-params">(application: UIApplication, core: Halo.CoreManager)</span></span> -&gt; <span class="hljs-type">Void</span>
}
</code></pre>
<p>Every single add-on will conform to the protocol shown above, so that it has the chance to perform the desired operations in different steps of the setup and lifecycle of the app.</p>
<p>More specific protocols exist depending on the purpose of the add-on (notifications, network traffic).</p>
<pre><code class="hljs css language-swift"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">NotificationsAddon</span>: <span class="hljs-title">Addon</span> </span>{

  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">application</span><span class="hljs-params">(application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: NSData, core: Halo.CoreManager)</span></span> -&gt; <span class="hljs-type">Void</span>
  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">application</span><span class="hljs-params">(application: UIApplication, didFailToRegisterForRemoteNotificationsWithError error: NSError, core: Halo.CoreManager)</span></span> -&gt; <span class="hljs-type">Void</span>

  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">application</span><span class="hljs-params">(application: UIApplication, didReceiveRemoteNotification userInfo: [NSObject : AnyObject], core: Halo.CoreManager, fetchCompletionHandler completionHandler: <span class="hljs-params">(UIBackgroundFetchResult)</span></span></span> -&gt; <span class="hljs-type">Void</span>) -&gt; <span class="hljs-type">Void</span>

}
</code></pre>
<pre><code class="hljs css language-swift"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">NetworkAddon</span>: <span class="hljs-title">Addon</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">willPerformRequest</span><span class="hljs-params">(request: NSURLRequest)</span></span> -&gt; <span class="hljs-type">Void</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">didPerformRequest</span><span class="hljs-params">(request: NSURLRequest, time: NSTimeInterval, response: NSURLResponse?)</span></span> -&gt; <span class="hljs-type">Void</span>

}
</code></pre>
<p>Adding an add-on to the core is as simple as registering it using the appropriate function (always before calling the <code>startup</code> function):</p>
<pre><code class="hljs css language-swift"><span class="hljs-keyword">fileprivate</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">Void</span> {

  [...]

  <span class="hljs-keyword">let</span> notificationsAddon = <span class="hljs-type">FirebaseNotificationsAddon</span>()
  <span class="hljs-type">Halo</span>.<span class="hljs-type">Manager</span>.core.registerAddon(notificationsAddon)

  [...]
}
</code></pre>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 3/11/2019</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/halo-documentation/docs/ios/global/ios_getting_started"><span class="arrow-prev">← </span><span>Getting started</span></a><a class="docs-next button" href="/halo-documentation/docs/ios/core/ios_ssl_pinning"><span>SSL pinning</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#the-core-manager">The Core Manager</a><ul class="toc-headings"><li><a href="#delegate"><code>delegate</code></a></li><li><a href="#environment"><code>environment</code></a></li><li><a href="#defaultofflinepolicy"><code>defaultOfflinePolicy</code></a></li><li><a href="#numberofretries"><code>numberOfRetries</code></a></li><li><a href="#authenticationmode"><code>authenticationMode</code></a></li><li><a href="#other-functions">Other functions</a></li><li><a href="#add-ons">Add-ons</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/halo-documentation/" class="nav-home"><img src="/halo-documentation/img/mobgen_logo_text.png" alt="HALO" width="80" height="60"/></a><div><h5>User documentation</h5><a href="/halo-documentation/docs/cms/cms_home">CMS Documentation</a></div><div><h5>Technical documentation</h5><a href="/halo-documentation/docs/android/android_home">Getting started with Android</a><a href="/halo-documentation/docs/ios/ios_home">Getting started with iOS</a><a href="/halo-documentation/docs/javascript/javascript_home">Getting started with Javascript</a><a href="/halo-documentation/docs/android/server_integrations_home">Server integrations</a><a target="_blank" href="https://web-halo.mobgen.com/api/docs/">API Reference</a></div><div><h5>More</h5><a href="https://github.com/mobgen" target="_blank">GitHub</a><a class="github-button" href="https://github.com/mobgen/halo-documentation" target="_blank" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star Documentation</a><div></div><a class="github-button" href="https://github.com/mobgen/halo-android" target="_blank" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star Android SDK</a><div></div><a class="github-button" href="https://github.com/mobgen/halo-ios" target="_blank" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star iOS SDK</a><div></div><a class="github-button" href="https://source.digital.accenture.com/projects/MGUNS/repos/halo-sdk-js/browse?at=refs/heads/develop" target="_blank">Star Javascript SDK</a></div></section><a href="https://mobgen.com" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/halo-documentation/img/mobgen_logo.png" alt="MOBGEN | Accenture Interactive"/></a><section class="copyright">Copyright © 2020 MOBGEN | Accenture Interactive</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '0a2851182f22b93474d986ca029232bb',
                indexName: 'mobgen_halo',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>