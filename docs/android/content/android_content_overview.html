<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Overview · HALO</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="[![Download](https://api.bintray.com/packages/halo-mobgen/maven/HALO-Content/images/download.svg) ](https://bintray.com/halo-mobgen/maven/HALO-Content/_latestVersion)"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Overview · HALO"/><meta property="og:type" content="website"/><meta property="og:url" content="https://mobgen.github.io/halo-documentation/"/><meta property="og:description" content="[![Download](https://api.bintray.com/packages/halo-mobgen/maven/HALO-Content/images/download.svg) ](https://bintray.com/halo-mobgen/maven/HALO-Content/_latestVersion)"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/halo-documentation/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat|Open+Sans|Raleway"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/halo-documentation/js/jquery.min.js"></script><script type="text/javascript" src="/halo-documentation/js/cmsParam.js"></script><script src="/halo-documentation/js/scrollSpy.js"></script><link rel="stylesheet" href="/halo-documentation/css/main.css"/><script src="/halo-documentation/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/halo-documentation/"><h2 class="headerTitle">HALO</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/halo-documentation/docs/cms/cms_home" target="_self">CMS docs</a></li><li class="siteNavGroupActive"><a href="/halo-documentation/docs/android/android_home" target="_self">Android docs</a></li><li class=""><a href="/halo-documentation/docs/ios/ios_home" target="_self">iOS docs</a></li><li class=""><a href="/halo-documentation/docs/javascript/javascript_home" target="_self">Javascript docs</a></li><li class=""><a href="/halo-documentation/docs/integrations/server_integrations_home" target="_self">Server integrations</a></li><li class=""><a href="https://web-halo.mobgen.com/api/docs/" target="_self">API</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search in the docs" title="Search in the docs"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Content API</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Android Documentation</h3><ul class=""><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/android_home">Android SDK overview</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/global/android_getting_started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/global/android_supported_features">Supported Features</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/global/android_support">Team Support</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/global/android_contributions">Open Source Contributions</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Core API</h3><ul class=""><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/core/android_core_installer_options">Installer Options</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Android gradle plugin</h4><ul><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/core/android_core_gradle_plugin_started">Getting Started With Gradle Plugin</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/core/android_core_gradle_plugin_options">Gradle Plugin Options</a></li></ul></div><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/core/android_halo_core">Core API</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/core/android_core_manager_api">Manager API</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/core/android_core_custom_middleware_request">Custom Middleware Requests</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/core/android_core_offline_support">Offline support</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/core/android_core_environment">Change Server Environment and Proxy Debugging</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/core/android_core_debug">Enable Debug Mode</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Content API</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/halo-documentation/docs/android/content/android_content_overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/content/android_content_detailed_api">Detailed APIs</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/content/android_edit_content_detailed_api">Edit content detailed APIs</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/content/android_content_generated_api">Code generation tools</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Notifications API</h3><ul class=""><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/notifications/android_notifications_overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/notifications/android_notifications_detailed_api">Detailed APIs</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/notifications/android_notifications_report">Report event action APIs</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Translations API</h3><ul class=""><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/translations/android_translations_overview">Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Auth API</h3><ul class=""><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/auth/android_auth_overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/auth/android_auth_provider_facebook">Integration with Facebook</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/auth/android_auth_provider_google">Integration with Google</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/auth/android_pocket_api">Pocket SDK Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Two Factor Auth API</h3><ul class=""><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/2factor/android_2factorauth_overview">Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Presenter API</h3><ul class=""><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/presenter/android_presenter_overview">Presenter SDK Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">SDK samples</h3><ul class=""><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/example/android_awesome_wines">Awesome wines</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/example/android_chat">One to one chat</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/example/android_location">Indoor Location POC</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/example/android_loyalty">Loyalty</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Release notes</h3><ul class=""><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/changelog/android_release_notes_254">2.5.4 - Donón</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/changelog/android_release_notes_252">2.5.2 - Cambados</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/changelog/android_release_notes_251">2.5.1 - Cambados</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/changelog/android_release_notes_250">2.5.0 - Cambados</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/changelog/android_release_notes_241">2.4.1 - Balboa</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/changelog/android_release_notes_232">2.3.2 - Altamira</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/changelog/android_release_notes_220">2.2.0</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/changelog/android_release_notes_210">2.1.0</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/changelog/android_release_notes_200">2.0.0</a></li><li class="navListItem"><a class="navItem" href="/halo-documentation/docs/android/changelog/android_release_notes_140">1.4.0</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Overview</h1></header><article><div><span><p><a href="https://bintray.com/halo-mobgen/maven/HALO-Content/_latestVersion"><img src="https://api.bintray.com/packages/halo-mobgen/maven/HALO-Content/images/download.svg" alt="Download"> </a></p>
<h2><a class="anchor" aria-hidden="true" id="add-dependency"></a><a href="#add-dependency" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Add dependency</h2>
<p>In the HALO plugin add the following to enable the content sdk.</p>
<pre><code class="hljs css language-java">apply plugin: <span class="hljs-string">'halo'</span>

halo {
    ...
    services {
        content <span class="hljs-keyword">true</span>
    }
    ...
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="content-api-methods"></a><a href="#content-api-methods" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Content API methods</h2>
<p>The content API is the facade for the Content HALO SDK. Importing this library will need a valid HALO instance configured with some credentials.
The HALO Content SDK allows the user to retrieve instances from the HALO Backend in two main ways:</p>
<ul>
<li>Search</li>
<li>Sync</li>
</ul>
<blockquote>
<p><strong>Tip:</strong> Use the search method to get conent when you want to get some concrete elements, segmented data or certain information.</p>
</blockquote>
<blockquote>
<p><strong>Tip:</strong> Use the sync method if you prefer to download the whole module to use if offline. It is better for performance than search.</p>
</blockquote>
<p>Creating an instance of the Content API is really simple once you have your HALO running. Just write the following line:</p>
<pre><code class="hljs css language-java">HaloContentApi contentApi = HaloContentApi.with(halo);
</code></pre>
<p>In addition you can provide a default locale to include it in all the queries even if you didn't provide it in the search/sync.</p>
<h3><a class="anchor" aria-hidden="true" id="search"></a><a href="#search" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Search</h3>
<p>If you want to bring certain data based on some criteria or search some of them in the HALO Backed, you have to use the search operation in the API. To do that we provide a class called <code>SearchQuery</code> with a simple fluent API that allows you to specify the criterias for the search. Once selected, you can perform the search and cache the result in local for offline use. See the example above:</p>
<pre><code class="hljs css language-java">SearchQuery query = SearchQuery.builder()
    .moduleIds(<span class="hljs-string">"myModuleId"</span>)
    .beginSearch()
        .eq(<span class="hljs-string">"name"</span>, <span class="hljs-string">"Sample"</span>)
    .end()
    .build();
contentApi.search(Data.NETWORK_ONLY, query)
    .asContent()
    .execute(callback);
</code></pre>
<p>This search will request all the instances for the module id &quot;myModuleId&quot; and which body contains a name with the value &quot;Sample&quot;. Check out the rest of the available options in <a href="./android_content_detailed_api.html">the detailed documentation</a>.</p>
<blockquote>
<p><strong>Warning:</strong> The query builder search will return all results available including deleted or draft items. You must provide the appropiate query to return only published ones.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="searchquery-factory"></a><a href="#searchquery-factory" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SearchQuery Factory</h4>
<p>If you want to use common search options the <code>SearchQueryBuilderFactory</code> helps you to get items that has been published or removed or drafted.</p>
<pre><code class="hljs css language-java">SearchQuery query = SearchQueryBuilderFactory.getPublishedItemsByName(moduleName, searchTag, searchQuery)
    .onePage(<span class="hljs-keyword">true</span>)
    .segmentWithDevice()
    .build();
contentApi.search(Data.NETWORK_ONLY, query)
    .asContent()
    .execute(callback);
</code></pre>
<p>Here you can find the list of predefined search common operations with the <code>SearchQueryBuilderFactory</code>:</p>
<table>
<thead>
<tr><th>SearchQueryBuilderFactory</th><th>Explanation</th></tr>
</thead>
<tbody>
<tr><td><strong>getPublishedItems</strong></td><td>Brings all the published items for the given module.</td></tr>
<tr><td><strong>getPublishedItemsByName</strong></td><td>Brings all the published items for the given module filtered by name.</td></tr>
<tr><td><strong>getItemsByContentValue</strong></td><td>Brings all items for the given module filtered by a content value.</td></tr>
<tr><td><strong>getExpiredItems</strong></td><td>Provides the expired items.</td></tr>
<tr><td><strong>getArchivedItems</strong></td><td>Provides the archived items.</td></tr>
<tr><td><strong>getLastUpdatedItems</strong></td><td>The updated items during the given millis from now.</td></tr>
<tr><td><strong>getDraftItems</strong></td><td>Provides the draft items for the given module.</td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="sync"></a><a href="#sync" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sync</h3>
<p>The sync operation is thought for performance critical tasks. It allows to synchronize a full module consuming the less amount of data possible.</p>
<p>Syncing involves three steps:</p>
<ul>
<li>Listening for sync updates.</li>
<li>Requesting a sync for a module.</li>
<li>Requesting synced local instances.</li>
</ul>
<p>Check out the following example for a full sync lifecycle:</p>
<p><strong>Listen for sync updates</strong></p>
<pre><code class="hljs css language-java"><span class="hljs-comment">//Start listening for updates</span>
ISubscription subscription = contentApi.subscribeToSync(<span class="hljs-string">"my module name"</span>, listener);
<span class="hljs-comment">//When you are done or to free memory</span>
subscription.unsubscribe();
</code></pre>
<p><strong>Request a sync for a module</strong></p>
<pre><code class="hljs css language-java"><span class="hljs-comment">//Create the sync query</span>
SyncQuery query = SyncQuery.create(<span class="hljs-string">"my module name"</span>, Threading.POOL_QUEUE_POLICY);
contentApi.sync(query);
</code></pre>
<p><strong>Request the synced instances</strong></p>
<pre><code class="hljs css language-java"><span class="hljs-comment">//Request the synced content</span>
contentApi.getSyncInstances(<span class="hljs-string">"my module name"</span>)
    .asContent(MyCustomClass<span class="hljs-class">.<span class="hljs-keyword">class</span>)
    .<span class="hljs-title">execute</span>(<span class="hljs-title">callback</span>)</span>;
</code></pre>
<blockquote>
<p><strong>Note:</strong> Make sure your MyCustomClass.class is properly annotated with LoganSquare <code>@JsonObject</code> annotation to make it work properly, otherwise the result will not be parsed. You can check it in <a href="./android_content_detailed_api.html#content-parsing">content parsing section</a></p>
</blockquote>
<p>If you want to go in deep into this module, please refer to <a href="android_content_detailed_api.html">the detailed documentation</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="edit-content-api"></a><a href="#edit-content-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Edit Content API</h2>
<h3><a class="anchor" aria-hidden="true" id="basic-content-manipulation"></a><a href="#basic-content-manipulation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Basic content manipulation</h3>
<p>The Edit Content API is the way to manipulate the general content instances. If you have the proper credentials you will be able to create, update or delete general content instances. See <a href="../auth/android_auth_overview.html">Halo Auth API</a> to get apropiate credentials.</p>
<p>For example if you want to update an instance.</p>
<blockquote>
<p><strong>Important:</strong> Please refer to <a href="android_edit_content_detailed_api.html">the detailed documentation</a> to see other operations.</p>
</blockquote>
<p>You must set a map with the content values. In this example: title and backgroundColor)</p>
<pre><code class="hljs css language-java">Map&lt;String,Object&gt; values = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();
values.put(<span class="hljs-string">"title"</span>,<span class="hljs-string">"the title"</span>);
values.put(<span class="hljs-string">"backgroundColor"</span>, <span class="hljs-string">"#987654"</span>);
</code></pre>
<p>or set a custom object properly configured</p>
<blockquote>
<p><strong>Note:</strong> Make sure your MyCustomClass.class is properly annotated with LoganSquare <code>@JsonObject</code> annotation to make it work properly, otherwise the result will not be parsed. You can check it in <a href="android_content_detailed_api.html#content-parsing">content parsing section</a>.</p>
</blockquote>
<pre><code class="hljs css language-java">MyCustomClass values = <span class="hljs-keyword">new</span> MyCustomClass(<span class="hljs-string">"the title"</span>,<span class="hljs-string">"#987654"</span>);
</code></pre>
<p>You must provide the item id, module id, instance name. As optional parameters you should provide segmentation tags, publication date and deletion date:</p>
<pre><code class="hljs css language-java">HaloContentInstance.Builder instanceBuilder = <span class="hljs-keyword">new</span> HaloContentInstance.Builder(moduleName)
    .withId(instanceId)
    .withModuleId(moduleId)
    .withPublishDate(publishDate)
    .withName(instanceName)
    .withContentData(values);
</code></pre>
<pre><code class="hljs css language-java">HaloContentEditApi.with(halo)
    .updateContent(instanceBuilder.build())
    .threadPolicy(Threading.POOL_QUEUE_POLICY)
    .execute(<span class="hljs-keyword">new</span> CallbackV2&lt;HaloContentInstance&gt;() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFinish</span><span class="hljs-params">(@NonNull HaloResultV2&lt;HaloContentInstance&gt; result)</span> </span>{
            <span class="hljs-keyword">if</span>(result.status().isSecurityError()){
               <span class="hljs-comment">//there is an authentication error. Notify user to login.</span>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span>(result.data()!=<span class="hljs-keyword">null</span>) {
                    <span class="hljs-comment">//handle result of the update operation.                </span>
                }
            }
        }
     });
</code></pre>
<p>If you want to go in deep into this module, please refer to <a href="android_edit_content_detailed_api.html">the detailed documentation</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="advanced-content-manipulation"></a><a href="#advanced-content-manipulation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advanced content manipulation</h3>
<p>If you want to be able to add, modify and remove content instances in advanced use cases you must use the batch operation. You need to provide a <code>BatchOperations</code> which contains all the operations to perform.</p>
<pre><code class="hljs css language-java">BatchOperations operations = <span class="hljs-keyword">new</span> BatchOperations.Builder()
    .create(createInstances)
    .delete(deleteInstances)
    .update(updateInstaces)
    .truncate(truncateInstance)
    .build();
HaloContentEditApi.with(halo
    .batch(operations, <span class="hljs-keyword">true</span>)
    .threadPolicy(Threading.POOL_QUEUE_POLICY)
    .execute(<span class="hljs-keyword">new</span> CallbackV2&lt;BatchOperationResults&gt;() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFinish</span><span class="hljs-params">(@NonNull HaloResultV2&lt;BatchOperationResults&gt; result)</span> </span>{
            <span class="hljs-comment">//handle response with halo backend results             </span>
        }
    });
</code></pre>
<p>If you want to go in deep into this module, please refer to <a href="android_edit_content_detailed_api.html#batch-operations">the detailed documentation</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="code-generation-tool-to-annotate-custom-models"></a><a href="#code-generation-tool-to-annotate-custom-models" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Code generation tool to annotate custom models</h2>
<p>The Content SDK provides an API to generate code based on annotations. The HALO plugin will fetch all necessary dependencies to generate code using Java Poet in the <code>AbstractProcessor</code>.</p>
<blockquote>
<p><strong>Important:</strong> Please refer to <a href="https://github.com/square/javapoet">Java Poet</a> to go in deep about code generation.</p>
</blockquote>
<p>You can use this feature if you would like to:</p>
<ul>
<li>use the code generation tool in compile time to make sure that the proper code is generated to be able to create tables based on my custom model content structure.</li>
<li>use the code generation tool to create a shared table with the version of the table based on your custom model.</li>
<li>use the generated code to be able to perform queries into the local database based on your custom model content (insert, delete, update or select) in the same way as we use the general content API.</li>
</ul>
<p>Check out the following example creating a query to select in a database table by title.</p>
<h3><a class="anchor" aria-hidden="true" id="perform-a-select-query-on-a-custom-table-with-the-generation-tool"></a><a href="#perform-a-select-query-on-a-custom-table-with-the-generation-tool" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Perform a select query on a custom table with the generation tool</h3>
<p>First create the generated database using the <code>HalocontentApi</code> with a new instance of <code>GeneratedDatabaseFromModel</code> that was autogenerated in compile time. This operation should be done in the Application to ensure the database was created after launching the app.</p>
<pre><code class="hljs css language-java"><span class="hljs-comment">//...</span>
HaloContentApi.with(haloinstance, locale, <span class="hljs-keyword">new</span> GeneratedDatabaseFromModel());
<span class="hljs-comment">//...</span>
</code></pre>
<p>Then annotate your model with the <code>@HaloSearchableAnnotation</code> to create the database table and with the <code>@HaloQuery</code> annotation you will generate the code to perform the query with the <code>HaloContentQueryApi</code>.</p>
<blockquote>
<p><strong>Note:</strong> The <code>@HaloQuery</code> parameters must be declared with the following format <strong>@{name:class}</strong>.</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong> The <code>@HaloQueries</code> annotation is just an array of <code>@HaloQuery</code> annotations.</p>
</blockquote>
<pre><code class="hljs css language-java"><span class="hljs-comment">//...</span>
<span class="hljs-meta">@HaloQueries</span>(queries = {<span class="hljs-meta">@HaloQuery</span>(name=<span class="hljs-string">"selectByTitle"</span>,query=<span class="hljs-string">"select * from Article where Title = @{mTitle:String}"</span>)})
<span class="hljs-meta">@HaloSearchable</span>(version = <span class="hljs-number">13</span> , tableName = <span class="hljs-string">"Article"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Article</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Parcelable</span> </span>{
<span class="hljs-comment">//...</span>
</code></pre>
<p>Then annotate your model constructor with the <code>@HaloConstructor</code> annotation to indicate the names of the columns of your autogenerated table.</p>
<blockquote>
<p><strong>Warning:</strong> The order of the attributes must be the same on the annotation and in the constructor.</p>
</blockquote>
<pre><code class="hljs css language-java"><span class="hljs-comment">//...</span>
<span class="hljs-meta">@HaloConstructor</span>(columnNames = {<span class="hljs-string">"Title"</span>,<span class="hljs-string">"Date"</span>,<span class="hljs-string">"ContentHtml"</span>,<span class="hljs-string">"Summary"</span>,<span class="hljs-string">"Thumbnail"</span>,<span class="hljs-string">"Image"</span>})
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Article</span><span class="hljs-params">(String title, Date date, String article, String summary, String thumnail, String image)</span> </span>{
    mTitle = title;
    mDate = date;
    mArticle = article;
    mSummary = summary;
    mThumbnail = thumnail;
    mImage = image;
}
<span class="hljs-comment">//...</span>
</code></pre>
<p>This annotations will generate the code on the <strong>build/generated/source/apt/</strong> folder. You only need to import <code>com.mobgen.halo.android.app.generated</code> package to use the <code>HaloContentQueryApi</code> to perform the operation as follows.</p>
<blockquote>
<p><strong>Tip:</strong> The way to use the autogenerated <code>HaloContentQueryApi</code> is the same as in the general content API.</p>
</blockquote>
<pre><code class="hljs css language-java"><span class="hljs-comment">//...</span>
HaloContentQueryApi.with(haloInstance).selectByTitle(<span class="hljs-string">"My article title."</span>)
    .asContent(Article<span class="hljs-class">.<span class="hljs-keyword">class</span>)
    .<span class="hljs-title">execute</span>(<span class="hljs-title">new</span> <span class="hljs-title">CallbackV2</span>&lt;<span class="hljs-title">List</span>&lt;<span class="hljs-title">Article</span>&gt;&gt;() </span>{
        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFinish</span><span class="hljs-params">(@NonNull HaloResultV2&lt;List&lt;Article&gt;&gt; result)</span> </span>{
            <span class="hljs-keyword">if</span>(result.data().size()!=<span class="hljs-number">0</span>){
                populateArticles();
            }
        }
    });
<span class="hljs-comment">//...</span>
</code></pre>
<p>If you want to go in deep into this module, please refer to <a href="android_content_generated_api.html">the detailed documentation</a>.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 11/03/2019</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/halo-documentation/docs/android/core/android_core_debug"><span class="arrow-prev">← </span><span>Enable Debug Mode</span></a><a class="docs-next button" href="/halo-documentation/docs/android/content/android_content_detailed_api"><span>Detailed APIs</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#add-dependency">Add dependency</a></li><li><a href="#content-api-methods">Content API methods</a><ul class="toc-headings"><li><a href="#search">Search</a></li><li><a href="#sync">Sync</a></li></ul></li><li><a href="#edit-content-api">Edit Content API</a><ul class="toc-headings"><li><a href="#basic-content-manipulation">Basic content manipulation</a></li><li><a href="#advanced-content-manipulation">Advanced content manipulation</a></li></ul></li><li><a href="#code-generation-tool-to-annotate-custom-models">Code generation tool to annotate custom models</a><ul class="toc-headings"><li><a href="#perform-a-select-query-on-a-custom-table-with-the-generation-tool">Perform a select query on a custom table with the generation tool</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/halo-documentation/" class="nav-home"><img src="/halo-documentation/img/mobgen_logo_text.png" alt="HALO" width="80" height="60"/></a><div><h5>User documentation</h5><a href="/halo-documentation/docs/cms/cms_home">CMS Documentation</a></div><div><h5>Technical documentation</h5><a href="/halo-documentation/docs/android/android_home">Getting started with Android</a><a href="/halo-documentation/docs/ios/ios_home">Getting started with iOS</a><a href="/halo-documentation/docs/javascript/javascript_home">Getting started with Javascript</a><a href="/halo-documentation/docs/android/server_integrations_home">Server integrations</a><a target="_blank" href="https://web-halo.mobgen.com/api/docs/">API Reference</a></div><div><h5>More</h5><a href="https://github.com/mobgen" target="_blank">GitHub</a><a class="github-button" href="https://github.com/mobgen/halo-documentation" target="_blank" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star Documentation</a><div></div><a class="github-button" href="https://github.com/mobgen/halo-android" target="_blank" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star Android SDK</a><div></div><a class="github-button" href="https://github.com/mobgen/halo-ios" target="_blank" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star iOS SDK</a><div></div><a class="github-button" href="https://source.digital.accenture.com/projects/MGUNS/repos/halo-sdk-js/browse?at=refs/heads/develop" target="_blank">Star Javascript SDK</a></div></section><a href="https://mobgen.com" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/halo-documentation/img/mobgen_logo.png" alt="MOBGEN | Accenture Interactive"/></a><section class="copyright">Copyright © 2020 MOBGEN | Accenture Interactive</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '0a2851182f22b93474d986ca029232bb',
                indexName: 'mobgen_halo',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>